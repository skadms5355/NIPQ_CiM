# model : reactmobilebnn
# dataset : imagenet
# This is a argfile for training reactnet A model using resnet34 as teacher model.
# This argfile has few different settings compared to original recipe (on github, not on paper).
#   1) Default STE function (hardtanh) is used instead of aprx.
#   2) lighting augmentation not used since DALI does not support lighting. 
#   3) batch size is increased to 512 (from 256) for faster training. (LR is doubled accordingly. 5e-4 -> 1e-3)

--dataset	imagenet
--valid-size	0
--epochs    256	
--train-batch	512
--test-batch    512
--optimizer	adam
--weight-decay	0
--lr		0.001
--warmup    0
#--label-smoothing True
--arch		reactnet
--abits		1
--wbits		1
--padding-mode	zeros
--weight-scale True
--weight-clip   1

--lr-method lr_linear

--workers	16
--dali		True
--dali-cpu	True
--distributed	True
--amp   True

--transfer-mode 1	
--kd-alpha	1
--kd-temperature	1

--teacher PATH_TO_RESNET34_MODEL 
--pretrained PATH_TO_PREVIOUS_STAGE_OUTPUT 
